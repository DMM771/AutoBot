{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/\\u05D0\\u05D5\\u05E8\\u05D0\\u05DC \\u05DE\\u05E9\\u05E2\\u05DF/Desktop/\\u05DC\\u05D9\\u05DE\\u05D5\\u05D3\\u05D9\\u05DD/chatbot/UI/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/\\u05D0\\u05D5\\u05E8\\u05D0\\u05DC \\u05DE\\u05E9\\u05E2\\u05DF/Desktop/\\u05DC\\u05D9\\u05DE\\u05D5\\u05D3\\u05D9\\u05DD/chatbot/UI/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/\\u05D0\\u05D5\\u05E8\\u05D0\\u05DC \\u05DE\\u05E9\\u05E2\\u05DF/Desktop/\\u05DC\\u05D9\\u05DE\\u05D5\\u05D3\\u05D9\\u05DD/chatbot/UI/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Link}from\"react-router-dom\";import InputSec from\"./InputSec\";import{useRef,useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function checkValidation(username,password,verifyPassword){if(username.length===0||password.length===0||verifyPassword!==password){alert(\"Input is invalid!\");return false;}return true;}function RegisterPage(){var userid={id:\"\"};var username=useRef(null);var password=useRef(null);var verifyPassword=useRef(null);var nextPage=useRef(null);var _useState=useState(false),_useState2=_slicedToArray(_useState,2),error=_useState2[0],setError=_useState2[1];var reg=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){var params,request,res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:event.preventDefault();if(!checkValidation(username.current.value,password.current.value,verifyPassword.current.value)){_context.next=8;break;}params={username:username.current.value,password:password.current.value};request={method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(params)};_context.next=6;return fetch('http://localhost:58112/api/Users/register',request);case 6:res=_context.sent;if(res.ok){nextPage.current.click();}else setError(true);case 8:case\"end\":return _context.stop();}},_callee);}));return function reg(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{id:\"app\",className:\"shadow log-reg-background\",children:[/*#__PURE__*/_jsx(Link,{to:\"/chat\",state:userid,ref:nextPage}),/*#__PURE__*/_jsx(InputSec,{text:\"Username\",type:\"text\",id:username}),/*#__PURE__*/_jsx(InputSec,{text:\"Password\",type:\"password\",id:password}),/*#__PURE__*/_jsx(InputSec,{text:\"Verify password\",type:\"password\",id:verifyPassword}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"text-danger\",children:\"Something wrong\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",id:\"button\",className:\"btn btn-primary btn-sm shadow\",onClick:reg,children:\"Register\"}),/*#__PURE__*/_jsxs(\"div\",{id:\"register\",children:[\"Already registered? \",/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Click here\"}),\" to login\"]})]})]});}export default RegisterPage;","map":{"version":3,"names":["Link","InputSec","useRef","useState","jsx","_jsx","jsxs","_jsxs","checkValidation","username","password","verifyPassword","length","alert","RegisterPage","userid","id","nextPage","_useState","_useState2","_slicedToArray","error","setError","reg","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","event","params","request","res","wrap","_callee$","_context","prev","next","preventDefault","current","value","method","headers","body","JSON","stringify","fetch","sent","ok","click","stop","_x","apply","arguments","className","children","to","state","ref","text","type","onClick"],"sources":["C:/Users/אוראל משען/Desktop/לימודים/chatbot/UI/src/RegisterPage.js"],"sourcesContent":["import {Link} from \"react-router-dom\";\r\nimport InputSec from \"./InputSec\";\r\nimport {useRef, useState} from \"react\";\r\n\r\nfunction checkValidation(username, password, verifyPassword) {\r\n    if (username.length === 0 || password.length === 0 || verifyPassword !== password) {\r\n        alert(\"Input is invalid!\")\r\n        return false;\r\n    }\r\n    return true;\r\n}\r\n\r\nfunction RegisterPage() {\r\n    let userid = {id: \"\"};\r\n    const username = useRef(null);\r\n    const password = useRef(null);\r\n    const verifyPassword = useRef(null);\r\n    const nextPage = useRef(null);\r\n    const [error, setError] = useState(false);\r\n\r\n    const reg = async (event) => {\r\n        event.preventDefault();\r\n        if (checkValidation(username.current.value, password.current.value, verifyPassword.current.value)) {\r\n            const params = {\r\n                username: username.current.value,\r\n                password: password.current.value,\r\n            }\r\n            const request = {\r\n                method: 'POST',\r\n                headers: {'Content-Type': 'application/json'},\r\n                body: JSON.stringify(params)\r\n            };\r\n            let res = await fetch('http://localhost:58112/api/Users/register', request);\r\n            if (res.ok) {\r\n                nextPage.current.click();\r\n            } else setError(true);\r\n        }\r\n    }\r\n    return (\r\n        <div id=\"app\" className=\"shadow log-reg-background\">\r\n            <Link to=\"/chat\" state={userid} ref={nextPage}/>\r\n            <InputSec text=\"Username\" type=\"text\" id={username}/>\r\n            <InputSec text=\"Password\" type=\"password\" id={password}/>\r\n            <InputSec text=\"Verify password\" type=\"password\" id={verifyPassword}/>\r\n            {error && <div className=\"text-danger\">Something wrong</div>}\r\n            <div className=\"mb-3\">\r\n                <button type=\"submit\" id=\"button\" className=\"btn btn-primary btn-sm shadow\" onClick={reg}>Register\r\n                </button>\r\n                <div id=\"register\">Already registered? <Link to=\"/\">Click here</Link> to login</div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default RegisterPage;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}