{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\\\u05D0\\u05D5\\u05E8\\u05D0\\u05DC \\u05DE\\u05E9\\u05E2\\u05DF\\\\Desktop\\\\\\u05DC\\u05D9\\u05DE\\u05D5\\u05D3\\u05D9\\u05DD\\\\chatbot\\\\UI\\\\src\\\\LoginPage.js\",\n  _s = $RefreshSig$();\nimport { Link } from \"react-router-dom\";\nimport InputSec from \"./InputSec\";\nimport { useRef, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nasync function checkIfRegistered(username, password) {\n  const params = {\n    username: username,\n    password: password\n  };\n  const request = {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(params)\n  };\n  let res = await fetch(\"http://localhost:58112/api/Users/login\", request);\n  return res.ok;\n}\nasync function login(username, password) {\n  if (password.current.value.length < 8 || username.current.value.length === 0) {\n    alert(\"Input is invalid!\");\n    return false;\n  }\n  return await checkIfRegistered(username.current.value, password.current.value);\n}\nfunction LoginPage() {\n  _s();\n  let userid = {\n    id: \"\"\n  };\n  const username = useRef(null);\n  const password = useRef(null);\n  const nextPage = useRef(null);\n  let [error, setError] = useState(false);\n  const check = async event => {\n    event.preventDefault();\n    const isLog = await login(username, password);\n    if (isLog) {\n      nextPage.current.click();\n    } else {\n      setError(true);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"app\",\n    className: \"shadow log-reg-background\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      children: \"MESSENGER\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Link, {\n      to: \"/chat\",\n      state: userid,\n      ref: nextPage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(InputSec, {\n      text: \"Username\",\n      type: \"text\",\n      id: username\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(InputSec, {\n      text: \"Password\",\n      type: \"password\",\n      id: password\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-danger\",\n      children: \"username or password wrong\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 23\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-3 mt-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        className: \"btn btn-primary btn-sm shadow\",\n        onClick: check,\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"register\",\n        children: [\"Not registered? \", /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/register\",\n          children: \"Click here\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 52\n        }, this), \" to register\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 9\n  }, this);\n}\n_s(LoginPage, \"MXQg4li3TL/M47TBsSkxbiB44Es=\");\n_c = LoginPage;\nexport default LoginPage;\nvar _c;\n$RefreshReg$(_c, \"LoginPage\");","map":{"version":3,"names":["Link","InputSec","useRef","useState","jsxDEV","_jsxDEV","checkIfRegistered","username","password","params","request","method","headers","body","JSON","stringify","res","fetch","ok","login","current","value","length","alert","LoginPage","_s","userid","id","nextPage","error","setError","check","event","preventDefault","isLog","click","className","children","fileName","_jsxFileName","lineNumber","columnNumber","to","state","ref","text","type","onClick","_c","$RefreshReg$"],"sources":["C:/Users/אוראל משען/Desktop/לימודים/chatbot/UI/src/LoginPage.js"],"sourcesContent":["import {Link} from \"react-router-dom\";\r\nimport InputSec from \"./InputSec\";\r\nimport {useRef, useState} from \"react\";\r\n\r\n\r\nasync function checkIfRegistered(username, password) {\r\n    const params = {\r\n        username: username,\r\n        password: password\r\n    }\r\n    const request = {\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(params),\r\n    };\r\n    let res = await fetch(\"http://localhost:58112/api/Users/login\", request);\r\n    return res.ok;\r\n}\r\n\r\nasync function login(username, password) {\r\n    if (password.current.value.length < 8 || username.current.value.length === 0) {\r\n        alert(\"Input is invalid!\");\r\n        return false;\r\n    }\r\n\r\n    return await checkIfRegistered(username.current.value, password.current.value);\r\n}\r\n\r\n\r\nfunction LoginPage() {\r\n    let userid={id:\"\"};\r\n    const username = useRef(null);\r\n    const password = useRef(null);\r\n    const nextPage = useRef(null);\r\n    let [error, setError] = useState(false);\r\n    const check = async (event) => {\r\n        event.preventDefault();\r\n        const isLog = await login(username, password)\r\n        if (isLog) {\r\n            nextPage.current.click();\r\n        } else {\r\n            setError(true);\r\n        }\r\n    }\r\n    return (\r\n        <div id=\"app\" className=\"shadow log-reg-background\">\r\n            <header>MESSENGER</header>\r\n            <Link to=\"/chat\" state={userid} ref={nextPage}/>\r\n            <InputSec text=\"Username\" type=\"text\" id={username}/>\r\n            <InputSec text=\"Password\" type=\"password\" id={password}/>\r\n            {error && <div className=\"text-danger\">username or password wrong</div>}\r\n            <div className=\"mb-3 mt-2\">\r\n                <button type=\"button\" className=\"btn btn-primary btn-sm shadow\" onClick={check}>Login\r\n                </button>\r\n                <div id=\"register\">Not registered? <Link to=\"/register\">Click here</Link> to register</div>\r\n            </div>\r\n        </div>);\r\n}\r\n\r\nexport default LoginPage;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}