{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\\\u05D0\\u05D5\\u05E8\\u05D0\\u05DC \\u05DE\\u05E9\\u05E2\\u05DF\\\\Desktop\\\\\\u05DC\\u05D9\\u05DE\\u05D5\\u05D3\\u05D9\\u05DD\\\\chatbot\\\\UI\\\\src\\\\RegisterPage.js\",\n  _s = $RefreshSig$();\nimport { Link } from \"react-router-dom\";\nimport InputSec from \"./InputSec\";\nimport { useRef, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction checkValidation(username, password, verifyPassword) {\n  if (username.length === 0 || password.length === 0 || verifyPassword !== password) {\n    alert(\"Input is invalid!\");\n    return false;\n  }\n  // let index = registeredUsers.findIndex((i) => (i.username === username))\n  // if (index >= 0) {\n  //     alert(\"not free username\")\n  //     return false\n  // }\n  return true;\n}\nfunction RegisterPage() {\n  _s();\n  let userid = {\n    id: \"\"\n  };\n  const username = useRef(null);\n  const password = useRef(null);\n  const verifyPassword = useRef(null);\n  const fileInput = useRef(null);\n  const [image, setImage] = useState(\"\");\n  const nextPage = useRef(null);\n  const [error, setError] = useState(false);\n  const reg = async event => {\n    event.preventDefault();\n    if (checkValidation(username.current.value, password.current.value, verifyPassword.current.value, nickname.current.value)) {\n      const params = {\n        id: username.current.value,\n        password: password.current.value,\n        name: username.current.value\n      };\n      if (image !== \"\") {\n        params.photo = image;\n      }\n      const request = {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(params)\n      };\n      let res = await fetch('http://localhost:5108/api/contacts/register', request);\n      if (res.ok) {\n        userid.id = username.current.value;\n        nextPage.current.click();\n      } else setError(true);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"app\",\n    className: \"shadow log-reg-background\",\n    children: [/*#__PURE__*/_jsxDEV(Link, {\n      to: \"/chat\",\n      state: userid,\n      ref: nextPage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(InputSec, {\n      text: \"Username\",\n      type: \"text\",\n      id: username\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(InputSec, {\n      text: \"Password\",\n      type: \"password\",\n      id: password\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(InputSec, {\n      text: \"Verify password\",\n      type: \"password\",\n      id: verifyPassword\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-1\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-primary btn-sm shadow\",\n        onClick: () => fileInput.current.click(),\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"bi bi-file-image\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-danger\",\n      children: \"Something wrong\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 23\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        id: \"button\",\n        className: \"btn btn-primary btn-sm shadow\",\n        onClick: reg,\n        children: \"Register\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"register\",\n        children: [\"Already registered? \", /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/\",\n          children: \"Click here\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 56\n        }, this), \" to login\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 9\n  }, this);\n}\n_s(RegisterPage, \"mLCfULX2WTQ5NkdjnkplhLPIR/s=\");\n_c = RegisterPage;\nexport default RegisterPage;\nvar _c;\n$RefreshReg$(_c, \"RegisterPage\");","map":{"version":3,"names":["Link","InputSec","useRef","useState","jsxDEV","_jsxDEV","checkValidation","username","password","verifyPassword","length","alert","RegisterPage","_s","userid","id","fileInput","image","setImage","nextPage","error","setError","reg","event","preventDefault","current","value","nickname","params","name","photo","request","method","headers","body","JSON","stringify","res","fetch","ok","click","className","children","to","state","ref","fileName","_jsxFileName","lineNumber","columnNumber","text","type","onClick","_c","$RefreshReg$"],"sources":["C:/Users/אוראל משען/Desktop/לימודים/chatbot/UI/src/RegisterPage.js"],"sourcesContent":["import {Link} from \"react-router-dom\";\r\nimport InputSec from \"./InputSec\";\r\nimport {useRef, useState} from \"react\";\r\n\r\nfunction checkValidation(username, password, verifyPassword) {\r\n    if (username.length === 0 || password.length === 0 || verifyPassword !== password) {\r\n        alert(\"Input is invalid!\")\r\n        return false;\r\n    }\r\n    // let index = registeredUsers.findIndex((i) => (i.username === username))\r\n    // if (index >= 0) {\r\n    //     alert(\"not free username\")\r\n    //     return false\r\n    // }\r\n    return true;\r\n}\r\n\r\nfunction RegisterPage() {\r\n    let userid = {id: \"\"};\r\n    const username = useRef(null);\r\n    const password = useRef(null);\r\n    const verifyPassword = useRef(null);\r\n    const fileInput = useRef(null);\r\n    const [image, setImage] = useState(\"\");\r\n    const nextPage = useRef(null);\r\n    const [error, setError] = useState(false);\r\n\r\n    const reg = async (event) => {\r\n\r\n        event.preventDefault();\r\n        if (checkValidation(username.current.value, password.current.value, verifyPassword.current.value, nickname.current.value)) {\r\n            const params = {\r\n                id: username.current.value,\r\n                password: password.current.value,\r\n                name: username.current.value,\r\n            }\r\n            if (image !== \"\") {\r\n                params.photo = image;\r\n            }\r\n            const request = {\r\n                method: 'POST',\r\n                headers: {'Content-Type': 'application/json'},\r\n                body: JSON.stringify(params)\r\n            };\r\n            let res = await fetch('http://localhost:5108/api/contacts/register', request);\r\n            if (res.ok) {\r\n                userid.id = username.current.value;\r\n                nextPage.current.click();\r\n            } else setError(true);\r\n        }\r\n    }\r\n    return (\r\n        <div id=\"app\" className=\"shadow log-reg-background\">\r\n            <Link to=\"/chat\" state={userid} ref={nextPage}/>\r\n            <InputSec text=\"Username\" type=\"text\" id={username}/>\r\n            <InputSec text=\"Password\" type=\"password\" id={password}/>\r\n            <InputSec text=\"Verify password\" type=\"password\" id={verifyPassword}/>\r\n            <div className=\"mt-1\">\r\n                <button className=\"btn btn-primary btn-sm shadow\" onClick={() => fileInput.current.click()}>\r\n                    <i className=\"bi bi-file-image\"/>\r\n                </button>\r\n            </div>\r\n            {error && <div className=\"text-danger\">Something wrong</div>}\r\n            <div className=\"mb-3\">\r\n                <button type=\"submit\" id=\"button\" className=\"btn btn-primary btn-sm shadow\" onClick={reg}>Register\r\n                </button>\r\n                <div id=\"register\">Already registered? <Link to=\"/\">Click here</Link> to login</div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default RegisterPage;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}