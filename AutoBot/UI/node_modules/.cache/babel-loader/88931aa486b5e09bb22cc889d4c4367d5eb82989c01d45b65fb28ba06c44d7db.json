{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\\\u05D0\\u05D5\\u05E8\\u05D0\\u05DC \\u05DE\\u05E9\\u05E2\\u05DF\\\\Desktop\\\\\\u05DC\\u05D9\\u05DE\\u05D5\\u05D3\\u05D9\\u05DD\\\\chatbot\\\\chat-bot\\\\src\\\\AddNewContact.js\",\n  _s = $RefreshSig$();\nimport { useRef } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction AddNewContact(_ref) {\n  _s();\n  let {\n    closeModel,\n    setContactList,\n    user\n  } = _ref;\n  const textInput = useRef(null);\n  const server = useRef(null);\n  const addContact = async () => {\n    if (user === textInput.current.value) {\n      textInput.current.value = \"\";\n      alert(\"Username is not valid, please try again\");\n      return;\n    }\n    let res = await fetch('http://' + server.current.value + '/api/invitations', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        from: user,\n        to: textInput.current.value,\n        server: 'localhost:5108'\n      })\n    });\n    if (res.ok) {\n      res = await fetch('http://localhost:5108/api/contacts?username=' + user, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          id: textInput.current.value,\n          name: textInput.current.value,\n          server: server.current.value\n        })\n      });\n      if (res.ok) {\n        res = await fetch('http://localhost:5108/api/contacts?username=' + user, {\n          method: 'GET',\n          headers: {\n            'Content-Type': 'application/json'\n          }\n        });\n        const data = await res.json();\n        setContactList(data);\n        closeModel(false);\n      } else alert(\"Username already exist, please try again\");\n    } else {\n      alert(\"Username does not exist, please try again\");\n    }\n  };\n\n  // const addPhoto = (event) => {\n  //     event.preventDefault();\n  //     urlPhoto = URL.createObjectURL(event.target.files[0]);\n  // }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"modelContainer\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"\",\n      className: \"shadow-lg p-3 mb-5 rounded modelBackground\",\n      children: [/*#__PURE__*/_jsxDEV(\"line\", {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"btn-close\",\n          \"aria-label\": \"Close\",\n          onClick: () => {\n            closeModel(false);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"big-text\",\n            children: \"Add New Contact\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"form-control rounded\",\n          placeholder: \"Contact's Username\",\n          ref: textInput\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"form-control rounded\",\n          placeholder: \"Contact's Server\",\n          ref: server\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary big-text\",\n          type: \"submit\",\n          onClick: addContact,\n          children: \"Add\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 9\n  }, this);\n}\n_s(AddNewContact, \"crZsy23dlz8CUqZJt4yhQ1nZYCc=\");\n_c = AddNewContact;\nexport default AddNewContact;\nvar _c;\n$RefreshReg$(_c, \"AddNewContact\");","map":{"version":3,"names":["useRef","jsxDEV","_jsxDEV","AddNewContact","_ref","_s","closeModel","setContactList","user","textInput","server","addContact","current","value","alert","res","fetch","method","headers","body","JSON","stringify","from","to","ok","id","name","data","json","className","children","type","onClick","fileName","_jsxFileName","lineNumber","columnNumber","placeholder","ref","_c","$RefreshReg$"],"sources":["C:/Users/אוראל משען/Desktop/לימודים/chatbot/chat-bot/src/AddNewContact.js"],"sourcesContent":["import {useRef} from \"react\";\r\n\r\nfunction AddNewContact({closeModel, setContactList, user}) {\r\n    const textInput = useRef(null);\r\n    const server = useRef(null);\r\n    const addContact = async () => {\r\n        if (user === textInput.current.value) {\r\n            textInput.current.value = \"\";\r\n            alert(\"Username is not valid, please try again\");\r\n            return;\r\n        }\r\n        let res = await fetch('http://'+server.current.value+'/api/invitations', {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n                from: user,\r\n                to: textInput.current.value,\r\n                server: 'localhost:5108'\r\n            })\r\n        });\r\n        if (res.ok) {\r\n            res = await fetch('http://localhost:5108/api/contacts?username=' + user, {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify({\r\n                    id: textInput.current.value,\r\n                    name: textInput.current.value,\r\n                    server: server.current.value\r\n                })\r\n            });\r\n            if (res.ok) {\r\n                res = await fetch('http://localhost:5108/api/contacts?username=' + user, {\r\n                    method: 'GET',\r\n                    headers: {\r\n                        'Content-Type': 'application/json'\r\n                    }\r\n                });\r\n                const data = await res.json();\r\n                setContactList(data);\r\n                closeModel(false);\r\n            } else alert(\"Username already exist, please try again\");\r\n        } else {\r\n            alert(\"Username does not exist, please try again\")\r\n        }\r\n\r\n    }\r\n\r\n    // const addPhoto = (event) => {\r\n    //     event.preventDefault();\r\n    //     urlPhoto = URL.createObjectURL(event.target.files[0]);\r\n    // }\r\n\r\n    return (\r\n        <div className=\"modelContainer\">\r\n            <div id=\"\" className=\"shadow-lg p-3 mb-5 rounded modelBackground\">\r\n                <line>\r\n                    <button type=\"button\" className=\"btn-close\" aria-label=\"Close\" onClick={() => {\r\n                        closeModel(false)\r\n                    }}/>\r\n                    <div>\r\n                        <div className=\"big-text\">Add New Contact</div>\r\n                    </div>\r\n                </line>\r\n\r\n                <div className=\"input-group\">\r\n                    <div>\r\n                        {/*<input type=\"file\" accept=\"image/*\" hidden={true} ref={fileInput} onChange={addPhoto}/>*/}\r\n                        {/*<button className=\"btn btn-primary\" id=\"transparent-btn\"*/}\r\n                        {/*        onClick={() => {*/}\r\n                        {/*            fileInput.current.click();*/}\r\n                        {/*        }}>*/}\r\n                        {/*    <i className=\"bi bi-paperclip\"/>*/}\r\n                        {/*</button>*/}\r\n                    </div>\r\n                    <input type=\"text\" className=\"form-control rounded\" placeholder=\"Contact's Username\"\r\n                           ref={textInput}/>\r\n                    <input type=\"text\" className=\"form-control rounded\" placeholder=\"Contact's Server\"\r\n                           ref={server}/>\r\n                    <button className=\"btn btn-primary big-text\" type=\"submit\" onClick={addContact}>Add\r\n                    </button>\r\n                </div>\r\n\r\n            </div>\r\n\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default AddNewContact;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}