{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\\\u05D0\\u05D5\\u05E8\\u05D0\\u05DC \\u05DE\\u05E9\\u05E2\\u05DF\\\\Desktop\\\\\\u05DC\\u05D9\\u05DE\\u05D5\\u05D3\\u05D9\\u05DD\\\\chatbot\\\\chat-bot\\\\src\\\\RegisterPage.js\",\n  _s = $RefreshSig$();\nimport { Link } from \"react-router-dom\";\nimport InputSec from \"./InputSec\";\nimport { useRef, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction checkValidation(username, password, verifyPassword, nickname) {\n  if (username.length === 0 || password.length === 0 || nickname === 0 || verifyPassword !== password) {\n    alert(\"Input is invalid!\");\n    return false;\n  }\n  // let index = registeredUsers.findIndex((i) => (i.username === username))\n  // if (index >= 0) {\n  //     alert(\"not free username\")\n  //     return false\n  // }\n  return true;\n}\nfunction RegisterPage() {\n  _s();\n  let userid = {\n    id: \"\"\n  };\n  const username = useRef(null);\n  const password = useRef(null);\n  const verifyPassword = useRef(null);\n  const nickname = useRef(null);\n  const fileInput = useRef(null);\n  const [image, setImage] = useState(\"\");\n  const nextPage = useRef(null);\n  const [error, setError] = useState(false);\n  const showImage = event => {\n    event.preventDefault();\n    setImage(URL.createObjectURL(event.target.files[0]));\n  };\n  const reg = async event => {\n    event.preventDefault();\n    if (checkValidation(username.current.value, password.current.value, verifyPassword.current.value, nickname.current.value)) {\n      const params = {\n        id: username.current.value,\n        password: password.current.value,\n        name: username.current.value\n      };\n      if (nickname.current.value !== \"\") {\n        params.nickname = nickname.current.value;\n      }\n      if (image !== \"\") {\n        params.photo = image;\n      }\n      const request = {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(params)\n      };\n      let res = await fetch('http://localhost:5108/api/contacts/register', request);\n      if (res.ok) {\n        userid.id = username.current.value;\n        nextPage.current.click();\n      } else setError(true);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"app\",\n    className: \"shadow log-reg-background\",\n    children: [/*#__PURE__*/_jsxDEV(Link, {\n      to: \"/chat\",\n      state: userid,\n      ref: nextPage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(InputSec, {\n      text: \"Username\",\n      type: \"text\",\n      id: username\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(InputSec, {\n      text: \"Password\",\n      type: \"password\",\n      id: password\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(InputSec, {\n      text: \"Verify password\",\n      type: \"password\",\n      id: verifyPassword\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(InputSec, {\n      text: \"Display name\",\n      type: \"text\",\n      id: nickname\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-1\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        accept: \"image/*\",\n        ref: fileInput,\n        hidden: true,\n        onChange: showImage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-primary btn-sm shadow\",\n        onClick: () => fileInput.current.click(),\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"bi bi-file-image\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-danger\",\n      children: \"Something wrong\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 23\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        id: \"button\",\n        className: \"btn btn-primary btn-sm shadow\",\n        onClick: reg,\n        children: \"Register\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"register\",\n        children: [\"Already registered? \", /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/\",\n          children: \"Click here\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 56\n        }, this), \" to login\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 9\n  }, this);\n}\n_s(RegisterPage, \"kHjE4EfCo/iyVl078R4OoToLSgA=\");\n_c = RegisterPage;\nexport default RegisterPage;\nvar _c;\n$RefreshReg$(_c, \"RegisterPage\");","map":{"version":3,"names":["Link","InputSec","useRef","useState","jsxDEV","_jsxDEV","checkValidation","username","password","verifyPassword","nickname","length","alert","RegisterPage","_s","userid","id","fileInput","image","setImage","nextPage","error","setError","showImage","event","preventDefault","URL","createObjectURL","target","files","reg","current","value","params","name","photo","request","method","headers","body","JSON","stringify","res","fetch","ok","click","className","children","to","state","ref","fileName","_jsxFileName","lineNumber","columnNumber","text","type","accept","hidden","onChange","onClick","_c","$RefreshReg$"],"sources":["C:/Users/אוראל משען/Desktop/לימודים/chatbot/chat-bot/src/RegisterPage.js"],"sourcesContent":["import {Link} from \"react-router-dom\";\r\nimport InputSec from \"./InputSec\";\r\nimport {useRef, useState} from \"react\";\r\n\r\nfunction checkValidation(username, password, verifyPassword, nickname) {\r\n    if (username.length === 0 || password.length === 0 || nickname === 0 || verifyPassword !== password) {\r\n        alert(\"Input is invalid!\")\r\n        return false;\r\n    }\r\n    // let index = registeredUsers.findIndex((i) => (i.username === username))\r\n    // if (index >= 0) {\r\n    //     alert(\"not free username\")\r\n    //     return false\r\n    // }\r\n    return true;\r\n}\r\n\r\nfunction RegisterPage() {\r\n    let userid = {id: \"\"};\r\n    const username = useRef(null);\r\n    const password = useRef(null);\r\n    const verifyPassword = useRef(null);\r\n    const nickname = useRef(null);\r\n    const fileInput = useRef(null);\r\n    const [image, setImage] = useState(\"\");\r\n    const nextPage = useRef(null);\r\n    const [error, setError] = useState(false);\r\n    const showImage = (event) => {\r\n        event.preventDefault();\r\n        setImage(URL.createObjectURL(event.target.files[0]));\r\n    }\r\n\r\n    const reg = async (event) => {\r\n\r\n        event.preventDefault();\r\n        if (checkValidation(username.current.value, password.current.value, verifyPassword.current.value, nickname.current.value)) {\r\n            const params = {\r\n                id: username.current.value,\r\n                password: password.current.value,\r\n                name: username.current.value,\r\n            }\r\n            if (nickname.current.value !== \"\") {\r\n                params.nickname = nickname.current.value;\r\n            }\r\n            if (image !== \"\") {\r\n                params.photo = image;\r\n            }\r\n            const request = {\r\n                method: 'POST',\r\n                headers: {'Content-Type': 'application/json'},\r\n                body: JSON.stringify(params)\r\n            };\r\n            let res = await fetch('http://localhost:5108/api/contacts/register', request);\r\n            if (res.ok) {\r\n                userid.id = username.current.value;\r\n                nextPage.current.click();\r\n            } else setError(true);\r\n        }\r\n    }\r\n    return (\r\n        <div id=\"app\" className=\"shadow log-reg-background\">\r\n            <Link to=\"/chat\" state={userid} ref={nextPage}/>\r\n            <InputSec text=\"Username\" type=\"text\" id={username}/>\r\n            <InputSec text=\"Password\" type=\"password\" id={password}/>\r\n            <InputSec text=\"Verify password\" type=\"password\" id={verifyPassword}/>\r\n            <InputSec text=\"Display name\" type=\"text\" id={nickname}/>\r\n            <div className=\"mt-1\">\r\n                <input type=\"file\" accept=\"image/*\" ref={fileInput} hidden={true} onChange={showImage}/>\r\n                <button className=\"btn btn-primary btn-sm shadow\" onClick={() => fileInput.current.click()}>\r\n                    <i className=\"bi bi-file-image\"/>\r\n                </button>\r\n            </div>\r\n            {error && <div className=\"text-danger\">Something wrong</div>}\r\n            <div className=\"mb-3\">\r\n                <button type=\"submit\" id=\"button\" className=\"btn btn-primary btn-sm shadow\" onClick={reg}>Register\r\n                </button>\r\n                <div id=\"register\">Already registered? <Link to=\"/\">Click here</Link> to login</div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default RegisterPage;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}